<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>『数据结构实验』图的最短路径（Dijkstra算法） | Alex的Blog</title><meta name="description" content="题目： 设有一个城市间的公路交通图，请实现对该图的管理和最短路径计算，要求的功能如下 1预设n个城市 2允许设置各城市间的公路连接，连接权重为该段公路的预测平均行驶时间和实际里程（tips不联通的公路，可以将这两个值设置为一个无穷大标志） 3允许用户输了两个城市名，分别给出推荐的最短里程路径和最短用时路径 附加题 思考如果允许用户输入途径点，该如何完善（用户可以设置途径点，要求用城市A到B的过程中"><meta name="keywords" content="C++,图论,数据结构,未完,算法"><meta name="author" content="Alex"><meta name="copyright" content="Alex"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="『数据结构实验』图的最短路径（Dijkstra算法）"><meta name="twitter:description" content="题目： 设有一个城市间的公路交通图，请实现对该图的管理和最短路径计算，要求的功能如下 1预设n个城市 2允许设置各城市间的公路连接，连接权重为该段公路的预测平均行驶时间和实际里程（tips不联通的公路，可以将这两个值设置为一个无穷大标志） 3允许用户输了两个城市名，分别给出推荐的最短里程路径和最短用时路径 附加题 思考如果允许用户输入途径点，该如何完善（用户可以设置途径点，要求用城市A到B的过程中"><meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="og:type" content="article"><meta property="og:title" content="『数据结构实验』图的最短路径（Dijkstra算法）"><meta property="og:url" content="http://yoursite.com/2017/12/03/e3-80-8e-e6-95-b0-e6-8d-ae-e7-bb-93-e6-9e-84-e5-ae-9e-e9-aa-8c-e3-80-8f-e5-9b-be-e7-9a-84-e6-9c-80-e7-9f-ad-e8-b7-af-e5-be-84-ef-bc-88dijkstra-e7-ae-97-e6-b3-95-ef-bc-89/"><meta property="og:site_name" content="Alex的Blog"><meta property="og:description" content="题目： 设有一个城市间的公路交通图，请实现对该图的管理和最短路径计算，要求的功能如下 1预设n个城市 2允许设置各城市间的公路连接，连接权重为该段公路的预测平均行驶时间和实际里程（tips不联通的公路，可以将这两个值设置为一个无穷大标志） 3允许用户输了两个城市名，分别给出推荐的最短里程路径和最短用时路径 附加题 思考如果允许用户输入途径点，该如何完善（用户可以设置途径点，要求用城市A到B的过程中"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2017-12-03T13:08:37.000Z"><meta property="article:modified_time" content="2020-05-22T16:27:41.529Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2017/12/03/e3-80-8e-e6-95-b0-e6-8d-ae-e7-bb-93-e6-9e-84-e5-ae-9e-e9-aa-8c-e3-80-8f-e5-9b-be-e7-9a-84-e6-9c-80-e7-9f-ad-e8-b7-af-e5-be-84-ef-bc-88dijkstra-e7-ae-97-e6-b3-95-ef-bc-89/"><link rel="prev" title="『今日复更』" href="http://yoursite.com/2018/05/11/e3-80-8e-e4-bb-8a-e6-97-a5-e5-a4-8d-e6-9b-b4-e3-80-8f/"><link rel="next" title="『C++OJ练习』管理员的难题（演讲大厅安排问题）" href="http://yoursite.com/2017/12/03/e3-80-8ecoj-e7-bb-83-e4-b9-a0-e3-80-8f-e7-ae-a1-e7-90-86-e5-91-98-e7-9a-84-e9-9a-be-e9-a2-98-ef-bc-88-e6-bc-94-e8-ae-b2-e5-a4-a7-e5-8e-85-e5-ae-89-e6-8e-92-e9-97-ae-e9-a2-98-ef-bc-88/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: false  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/assets/imgs/profile.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">22</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">13</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Alex的Blog</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">『数据结构实验』图的最短路径（Dijkstra算法）</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2017-12-03 21:08:37"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2017-12-03</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-05-23 00:27:41"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-05-23</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">未分类</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p>题目： 设有一个城市间的公路交通图，请实现对该图的管理和最短路径计算，要求的功能如下 1预设n个城市 2允许设置各城市间的公路连接，连接权重为该段公路的预测平均行驶时间和实际里程（tips不联通的公路，可以将这两个值设置为一个无穷大标志） 3允许用户输了两个城市名，分别给出推荐的最短里程路径和最短用时路径 附加题 思考如果允许用户输入途径点，该如何完善（用户可以设置途径点，要求用城市A到B的过程中，必须途经C） 当然题目里要用图了但是我懒得写图类了就。。。。（其实就是不会写 主要难点在于这个Dijkstra算法，下面主要讲讲这个算法吧 这个算法感觉有点像动态规划的思路，我们首先定义两个集合 A和B。其中A储存着已经被OUT的元素（节点），而B储存着尚未被OUT的元素，我们维护的就是这两个集合（以数组的形式） 首先，定义四个数组：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//allPath数组记录所有的路径</span></span><br><span class="line"><span class="comment">//minLength数组记录从0开始的最小距离</span></span><br><span class="line"><span class="comment">//minPath数组记录最小的路径</span></span><br><span class="line"><span class="comment">//cityValid数组记录这个城市是否已被访问</span></span><br></pre></td></tr></table></figure>


<p>​    </p>
<p>[/cc] 定义动态的数组要用到动态内存分配的知识（挖坑待填） 先把路径输入到allPath里//吐槽：匈牙利命名法打字真难受 然后选择起始点，这时就可以初始化了，我们就把起始的那一行（不分什么下标是0还是1开始的了说明白道理重要）整体挪到minLength里，意为从起始点（假如就是C了）开始能到达的地点。接下来cityValid全部置为false，接下来解决开始点的问题，就是把开始点的minLength项直接置为0然后把cityValid置为true即可，接下来就可以开始核心算法了。 核心算法： 最大的循环是从1开始到n-1，循环n-1次，因为起始点我们已经修改过了。注意！！！不是说我们每次就要处理第1个点或者第n-1个点，而是说我们要循环n-1次！这里的1和n-1换成1000和n+998是一样的！！！ 内部小循环1：1到n，找出valid项为false的值中的最小值（因为我们已经把到不了的地方置为了INFINITY了所以不用担心其他的点 找出最小的那个路径并且把这条路径联通的（新加入到集合A中的）那个点置为true 内部小循环2：判断是否要重写最小长度和最小路径数组。从1-n。我们得知了当前获得的最小值的点，然后把从这个点（a）能够到达的地方（b）的路径加上这个点本身的最小路径和能到达的点（b）的最小路径数组相比较，如果小的话就修改数组值（其中最小路径数组记录的是到达这个点的最短路径的上个点的路径值） 经历了核心算法就可以输出了，最小路径长度数组的输出很容易了，直接把这个数组输出了就行。而最短路径数组的输出用了一个辅助的数组，这点可以从代码里看到，依次读取这个点指向的那个数组项（有点类似指针了）最后输出这个临时数组就行了。 最后上代码 </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> startCity;</span><br><span class="line">	<span class="keyword">int</span> temp;</span><br><span class="line">	<span class="keyword">bool</span> defaultCity;</span><br><span class="line">	defaultCity = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">char</span> pathOrTime;</span><br><span class="line">	<span class="keyword">int</span> n;<span class="comment">//n为城市数</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入城市数，可输入小于1的数选择默认图"</span> &lt;&lt; <span class="built_in">endl</span>;	</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"选择按时间还是按路程（t or p）"</span>&lt;&gt; pathOrTime;</span><br><span class="line">	<span class="keyword">while</span> ((pathOrTime != <span class="string">'t'</span>) &amp;&amp; (pathOrTime != <span class="string">'p'</span>)) &#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入正确的值！\n"</span>; <span class="built_in">cin</span> &gt;&gt; pathOrTime; &#125;</span><br><span class="line">	<span class="keyword">if</span> (n &lt;= <span class="number">0</span>) &#123; n = <span class="number">5</span>; defaultCity = <span class="literal">true</span>; &#125;<span class="comment">//默认图</span></span><br><span class="line">	<span class="keyword">int</span>** allPath;</span><br><span class="line">	allPath = <span class="keyword">new</span> <span class="keyword">int</span>*[n];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&gt; temp;</span><br><span class="line">				<span class="keyword">if</span> (temp &lt; <span class="number">0</span>)<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">else</span>  allPath[i][j] = temp;<span class="comment">//当输入负数时意为无法到达</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		allPath[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">6</span>; allPath[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">3</span>; allPath[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">6</span>; allPath[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">2</span>; allPath[<span class="number">1</span>][<span class="number">3</span>] = <span class="number">5</span>;</span><br><span class="line">		allPath[<span class="number">2</span>][<span class="number">0</span>] = <span class="number">3</span>; allPath[<span class="number">2</span>][<span class="number">1</span>] = <span class="number">2</span>; allPath[<span class="number">2</span>][<span class="number">4</span>] = <span class="number">1</span>; allPath[<span class="number">3</span>][<span class="number">1</span>] = <span class="number">5</span>; allPath[<span class="number">3</span>][<span class="number">4</span>] = <span class="number">3</span>;</span><br><span class="line">		allPath[<span class="number">4</span>][<span class="number">2</span>] = <span class="number">1</span>; allPath[<span class="number">4</span>][<span class="number">3</span>] = <span class="number">3</span>;</span><br><span class="line">		allPath[<span class="number">1</span>][<span class="number">1</span>] = allPath[<span class="number">2</span>][<span class="number">2</span>] = allPath[<span class="number">3</span>][<span class="number">3</span>] = allPath[<span class="number">4</span>][<span class="number">4</span>] = allPath[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">if</span> (defaultCity == <span class="literal">true</span>)startCity = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"输入起始城市"</span> &lt;&lt; <span class="string">"从 0 到 "</span> &lt;&lt; n - <span class="number">1</span>&lt;&gt; startCity;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n<span class="number">-1</span>; i++) &#123; </span><br><span class="line">		<span class="built_in">isValid</span>[i] = <span class="literal">true</span>;<span class="comment">//初始化isValid数组，标记为未访问</span></span><br><span class="line">	    minLength[i] = allPath[startCity][i];<span class="comment">//初始化minLength数组</span></span><br><span class="line">		<span class="keyword">if</span> (minLength[i] == <span class="number">65535</span>)</span><br><span class="line">			minPath[i] = <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			minPath[i] = startCity;<span class="comment">//初始化minPath数组，把能和起始点直接连通的点的值置为path，INFINITY的置为-1</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	minPath[startCity] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">isValid</span>[startCity] = <span class="literal">false</span>;<span class="comment">//把0（初始值）解决了</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n<span class="number">-1</span>; i++) &#123;<span class="comment">//循环n-1次</span></span><br><span class="line">		<span class="keyword">int</span> tempLength = <span class="number">65535</span>, tempNum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;=n<span class="number">-1</span> ; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> ((<span class="built_in">isValid</span>[j]) &amp;&amp; (minLength[j] &lt;= tempLength)) &#123;</span><br><span class="line">				tempLength = minLength[j];</span><br><span class="line">				tempNum = j;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="comment">//判断出当前维护的集合往其他节点的路径最小值</span></span><br><span class="line"></span><br><span class="line">		<span class="built_in">isValid</span>[tempNum] = <span class="literal">false</span>;<span class="comment">//已判断的最小tempNum节点标记一下</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= n<span class="number">-1</span>; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> ((<span class="built_in">isValid</span>[j]) ) &#123;</span><br><span class="line">				<span class="keyword">if</span> (allPath[tempNum][j] + minLength[tempNum] &lt; minLength[j]) &#123;</span><br><span class="line">					minLength[j] = allPath[tempNum][j] + minLength[tempNum];</span><br><span class="line">					minPath[j] = tempNum;<span class="comment">//判断这个最小路径节点是否需要重写长度和路径，如果是就重写</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>


<p>​<br>​    </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">		<span class="comment">//输出</span></span><br><span class="line">		<span class="comment">//输出长度</span></span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"输入到达城市，输入-1停止"</span>&lt;&lt;<span class="string">"(0到"</span>&lt;&gt; i) &amp;&amp; i != <span class="number">-1</span>) &#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (pathOrTime == <span class="string">'p'</span>)</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">"到达 "</span> &lt;&lt; i &lt;&lt; <span class="string">" 的最短路径长度"</span> &lt;&lt; <span class="string">" : "</span> &lt;&lt; minLength[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"到达 "</span> &lt;&lt; i &lt;&lt; <span class="string">" 的最短时间"</span> &lt;&lt; <span class="string">" : "</span> &lt;&lt; minLength[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="comment">//输出路径</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (pathOrTime == <span class="string">'p'</span>)</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">"到达 "</span> &lt;&lt; i &lt;&lt; <span class="string">" 的最短距离路径为"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"到达 "</span> &lt;&lt; i &lt;&lt; <span class="string">" 的最短时间路径为"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">			<span class="keyword">int</span> *tempArray = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= n - <span class="number">1</span>; j++) &#123;</span><br><span class="line">				tempArray[j] = <span class="number">65535</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">int</span> temp1 = i, temp2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span> (temp1 != startCity) &#123;</span><br><span class="line">				tempArray[temp2] = minPath[temp1];</span><br><span class="line">				temp2++;</span><br><span class="line">				temp1 = minPath[temp1];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">				<span class="keyword">if</span> (tempArray[j] != <span class="number">65535</span>) &#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; tempArray[j] &lt;&lt; <span class="string">"---&gt;"</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">		<span class="comment">//删除数组</span></span><br><span class="line">		<span class="keyword">if</span> (defaultCity = <span class="literal">false</span>) &#123;</span><br><span class="line">			<span class="keyword">delete</span>[]   <span class="built_in">isValid</span>;</span><br><span class="line">			<span class="keyword">delete</span>[]   minLength;</span><br><span class="line">			<span class="keyword">delete</span>[]   minPath;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">				<span class="keyword">delete</span>[]allPath[i];</span><br><span class="line">			<span class="keyword">delete</span>[]allPath;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Alex</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2017/12/03/e3-80-8e-e6-95-b0-e6-8d-ae-e7-bb-93-e6-9e-84-e5-ae-9e-e9-aa-8c-e3-80-8f-e5-9b-be-e7-9a-84-e6-9c-80-e7-9f-ad-e8-b7-af-e5-be-84-ef-bc-88dijkstra-e7-ae-97-e6-b3-95-ef-bc-89/">http://yoursite.com/2017/12/03/e3-80-8e-e6-95-b0-e6-8d-ae-e7-bb-93-e6-9e-84-e5-ae-9e-e9-aa-8c-e3-80-8f-e5-9b-be-e7-9a-84-e6-9c-80-e7-9f-ad-e8-b7-af-e5-be-84-ef-bc-88dijkstra-e7-ae-97-e6-b3-95-ef-bc-89/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com" target="_blank">Alex的Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C++</a><a class="post-meta__tags" href="/tags/%E5%9B%BE%E8%AE%BA/">图论</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a><a class="post-meta__tags" href="/tags/%E6%9C%AA%E5%AE%8C/">未完</a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">算法</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/assets/imgs/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/assets/imgs/alipay.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2018/05/11/e3-80-8e-e4-bb-8a-e6-97-a5-e5-a4-8d-e6-9b-b4-e3-80-8f/"><img class="prev_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">『今日复更』</div></div></a></div><div class="next-post pull_right"><a href="/2017/12/03/e3-80-8ecoj-e7-bb-83-e4-b9-a0-e3-80-8f-e7-ae-a1-e7-90-86-e5-91-98-e7-9a-84-e9-9a-be-e9-a2-98-ef-bc-88-e6-bc-94-e8-ae-b2-e5-a4-a7-e5-8e-85-e5-ae-89-e6-8e-92-e9-97-ae-e9-a2-98-ef-bc-88/"><img class="next_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">『C++OJ练习』管理员的难题（演讲大厅安排问题）</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2017/11/19/e3-80-8ecoj-e7-bb-83-e4-b9-a0-e3-80-8f/" title="『C++OJ练习』 Above Average"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-11-19</div><div class="relatedPosts_title">『C++OJ练习』 Above Average</div></div></a></div><div class="relatedPosts_item"><a href="/2017/11/19/e3-80-8ecoj-e7-bb-83-e4-b9-a0-e3-80-8f-e6-95-b2-e4-b8-83/" title="『C++OJ练习』敲七"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-11-19</div><div class="relatedPosts_title">『C++OJ练习』敲七</div></div></a></div><div class="relatedPosts_item"><a href="/2017/11/19/e3-80-8ecoj-e7-bb-83-e4-b9-a0-e3-80-8f-e5-b9-b3-e6-96-b9-e5-92-8c-e4-b8-8e-e7-ab-8b-e6-96-b9-e5-92-8c/" title="『C++OJ练习』平方和与立方和"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-11-19</div><div class="relatedPosts_title">『C++OJ练习』平方和与立方和</div></div></a></div><div class="relatedPosts_item"><a href="/2017/11/19/e3-80-8ecoj-e7-bb-83-e4-b9-a0-e3-80-8f-e6-b0-b4-e4-bb-99-e8-8a-b1-e6-95-b0/" title="『C++OJ练习』水仙花数"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-11-19</div><div class="relatedPosts_title">『C++OJ练习』水仙花数</div></div></a></div><div class="relatedPosts_item"><a href="/2017/12/03/e3-80-8ecoj-e7-bb-83-e4-b9-a0-e3-80-8f-e7-ae-a1-e7-90-86-e5-91-98-e7-9a-84-e9-9a-be-e9-a2-98-ef-bc-88-e6-bc-94-e8-ae-b2-e5-a4-a7-e5-8e-85-e5-ae-89-e6-8e-92-e9-97-ae-e9-a2-98-ef-bc-88/" title="『C++OJ练习』管理员的难题（演讲大厅安排问题）"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-12-03</div><div class="relatedPosts_title">『C++OJ练习』管理员的难题（演讲大厅安排问题）</div></div></a></div><div class="relatedPosts_item"><a href="/2017/11/25/e3-80-8ecoj-e7-bb-83-e4-b9-a0-e3-80-8fb1-e6-95-b0-e7-9a-84-e4-ba-a4-e6-8d-a2-e6-b1-bd-e6-b0-b4-e7-93-b6-you-are-my-brother-e5-85-bb-e5-85-94-e5-ad-90/" title="『C++OJ练习』B1数的交换/汽水瓶/You are my brother/养兔子"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-11-25</div><div class="relatedPosts_title">『C++OJ练习』B1数的交换/汽水瓶/You are my brother/养兔子</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2021 By Alex</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">欢迎━(*｀∀´*)ノ亻!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script></body></html>